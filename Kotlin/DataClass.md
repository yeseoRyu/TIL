# DataClass

* 사용 이유

  - 데이터 클래스는 주로 데이터를 보관하는 데 사용한다. 각 데이터 클래스에 대해 컴파일러는 자동으로 인스턴스를 읽을 수 있게 하고, 비교하고, 복사하는 등의 작업을 지원한다.

* 기본적인 메서드 자동 생성

 - equals() - 객체의 **내용** 비교 (주소값 아님!!)
 - hashCode() - 해시코드 생성
 - toString() - 객체 내용을 사람이 읽기 쉽게 문자열로 반환
 - copy() - 객체를 복사하면서 **특정 속성만 변경** 가능

<br><br>

## 일반 클래스와의 차이점

**데이터 클래스(Data Class)**와 **일반 클래스(Class)**의 차이점은 주로 자동으로 생성되는 기능과 목적에 있다.
 
<br>

* 일반적으로 Java에서 데이터를 저장하는 객체를 만들려면 `getter`, `setter`, `toString()`, `equals()` 등을 수동으로 구현해야 한다. Kotlin의 Data Class는 이러한 반복 작업을 **자동화**한다.

* Kotlin Data Class는 `JSON`이나 `XML` 같은 데이터 포맷으로 직렬화/디시리얼화 작업 시에도 간편하게 사용할 수 있다. (e.g., Gson, Moshi, Kotlinx Serialization 등과 호환)

<br>

> 데이터 클래스는 데이터를 저장하고 처리하는 데 특화된 반면, 일반 클래스는 더 넓고 유연한 용도로 사용한다.

 - 데이터 클래스: ***데이터 저장, 전달, 비교, 복사*** 등의 작업이 주된 목적일 때.
 - 일반 클래스: ***비즈니스 로직, 상태 관리, 동작(메서드)***이 중요한 객체를 정의할 때.

<br><br>

## equals & hashcode

equals와 hashCode는 객체의 비교와 해시 기반 컬렉션에서의 동작에 필수적인 메서드이다. 이 두 메서드는 자바의 Object 클래스에서 기본 제공되며, 모든 클래스가 이를 상속받는다. Kotlin에서도 이 원칙을 따르며, 필요에 따라 커스터마이징할 수 있다.

<br>

* equals는 **두 객체가 논리적으로 같은지(내용이 같은지)**를 비교한다.

* hashCode는 객체의 **해시값(Hash Value)**을 반환한다.

* equals와 hashcode의 관계

  - equals가 true라면 hashCode도 같아야 한다. 즉, a.equals(b)가 true이면, a.hashCode() == b.hashCode()

  - 두 메서드는 반드시 함께 오버라이드해야 한다. 특히, 비교 대상이 특정 속성으로 제한되거나, 추가적인 속성이 비교에 포함되어야 할 때, 또는 성능 최적화가 필요한 경우에 이러한 메서드를 오버라이드하여 맞춤형 동작을 구현한다.   

<br>

> 주의 ※ hashcode는 객체의 **내용을 기반**으로 생성된 정수 값이다. (객체의 메모리 주소와는 별도로 동작한다.) 같은 내용을 가진 객체라면 같은 hashcode를 반환한다. 즉, hashcode가 같아서 equals가 true인 경우는 두 객체가 담고 있는 데이터가 완전히 같다는 것을 의미한다. (주소값까지 완전히 같은 객체는 있을 수 없음)

<br>

### 두 메서드의 활용 장점

* 객체 비교의 일관성 유지

  - `HashSet`이나 `HashMap` 같은 컬렉션에서 객체를 저장하거나 검색할 때, hashCode 값이 먼저 비교되고 같은 해시값을 가진 경우 equals로 실제 동등성을 확인한다.

* 컬렉션에서의 효율적인 동작

  - `HashSet`에서 객체를 중복 없이 저장할 수 있고,
  - `HashMap`에서 키로 사용할 때 올바르게 동작한다.

<br>

> 결론 ! 데이터를 비교하고 복사하는 과정에서 이러한 메서드들이 자동 지원되어 Data Class를 이용하면 편리한 이점이 있다. 따라서 개발자가 직접 구현할 필요가 없어 코드가 깔끔해지고 유지보수가 쉬워진다.

<br><br>

## 4. Kotlin의 데이터 클래스에서 val을 디폴트로 사용하는 것이 좋은 이유

* 불변성(Immutable) 보장

  - 데이터 클래스의 주 목적은 데이터를 저장하고 상태를 안전하게 유지하는 것이다. val은 불변 프로퍼티를 의미하므로, 한 번 초기화되면 값이 변경되지 않는다. 이는 데이터를 수정할 수 없게 하여 **의도치 않은 변경이나 동시성 문제**를 방지한다.

<br>

> 참고 ※ Kotlin은 함수형 프로그래밍의 장점을 활용하여 불변성을 강조한다.
